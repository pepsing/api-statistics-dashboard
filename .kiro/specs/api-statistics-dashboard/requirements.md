# 需求文档

## 介绍

本功能旨在为后台API密钥统计系统创建一个可视化仪表板。该仪表板将允许用户输入授权令牌，获取API密钥使用统计数据，并以直观的方式展示汇总信息和详细信息。系统将支持日、周、月维度的数据展示，并提供表格形式的明细数据查看。

## 需求

### 需求 1

**用户故事：** 作为系统管理员，我希望能够输入授权令牌来访问API统计数据，以便安全地查看系统使用情况。

#### 验收标准

1. 当用户访问仪表板页面时，系统应当显示一个授权令牌输入框
2. 当用户输入有效的Bearer令牌时，系统应当能够成功调用后台API获取数据
3. 当用户输入无效令牌时，系统应当显示相应的错误提示信息
4. 当令牌验证成功后，系统应当保存令牌用于后续API调用

### 需求 2

**用户故事：** 作为系统管理员，我希望能够查看API使用情况的汇总信息，以便快速了解整体系统状态。

#### 验收标准

1. 当成功获取数据后，系统应当显示所有API密钥的汇总统计信息
2. 汇总信息应当包括总请求数、总令牌数、总成本等关键指标
3. 当有多个API密钥时，系统应当计算并显示所有密钥的合计数据
4. 汇总信息应当以卡片或仪表板形式直观展示

### 需求 3

**用户故事：** 作为系统管理员，我希望能够查看每个API密钥的详细使用信息，以便了解各个密钥的具体使用情况。

#### 验收标准

1. 当获取到API数据后，系统应当以表格形式展示每个API密钥的使用信息
2. 表格应当只显示必要的标识信息：密钥名称、状态、最后使用时间
3. 表格应当重点显示使用和消耗数据：令牌数、请求数、成本等统计信息
4. 系统应当隐藏敏感字段（如具体的账户ID、令牌值）和管理字段（如权限、限制配置等）
5. 表格应当支持按使用量和成本进行排序以便分析消耗情况

### 需求 4

**用户故事：** 作为系统管理员，我希望能够按照不同时间维度查看使用数据，以便分析使用趋势和模式。

#### 验收标准

1. 当展示使用统计时，系统应当提供日、周、月三个时间维度的切换选项
2. 当选择日维度时，系统应当显示当日的使用数据
3. 当选择周维度时，系统应当显示当周的使用数据（需要从API数据计算得出）
4. 当选择月维度时，系统应当显示当月的使用数据
5. 时间维度切换应当实时更新表格和汇总数据的显示

### 需求 5

**用户故事：** 作为系统管理员，我希望数据能够以列的形式展示不同时间维度，以便进行横向对比分析。

#### 验收标准

1. 当展示详细数据表格时，系统应当将日、周、月数据作为独立的列显示
2. 每个API密钥应当在同一行显示其在不同时间维度下的使用和消耗数据
3. 表格列应当包括：密钥基本信息列、日使用量列、周使用量列、月使用量列、总使用量列
4. 使用量列应当显示关键指标：请求数、令牌数、成本
5. 数据列应当支持数值排序以便进行消耗对比分析

### 需求 6

**用户故事：** 作为系统管理员，我希望界面响应迅速且用户体验良好，以便高效地进行数据查看和分析。

#### 验收标准

1. 当用户输入令牌并提交时，系统应当显示加载状态指示器
2. 当API调用失败时，系统应当显示友好的错误信息和重试选项
3. 当数据加载完成后，系统应当平滑地展示数据内容
4. 界面应当具有响应式设计，支持不同屏幕尺寸的设备访问
5. 数据刷新应当提供手动刷新按钮，允许用户获取最新数据